<!DOCTYPE html>
<html lang="en">

    <!--head-->
    <%- include ("./partials/head")  %> 

<body>

    <!--header-->
    <%- include ("./partials/header")  %>


    <main>
        <section class="formulario">

            <h2>Edicion de Usuario</h2>

            <p>ID: <%= usuario.id %></p>

            <img src="/img/imgUsers/<%= usuario.img %>" alt="">
            
            <form action="/administrador/usersEdit/<%= usuario.id %>?_method=PUT" method="POST" enctype="multipart/form-data">
                

                <input 
                type="text" 
                name="nombre"  
                placeholder="Nombre" 
                value="<%= usuario.nombre %>">
                
                <% if (locals.errors && errors.nombre) { %>
                    <div class="text-danger">
                        <%= errors.nombre.msg %> 
                    </div>
                <% } %>
                
                <input 
                type="text" 
                name="apellido" 
                placeholder="Apellido" 
                value="<%= usuario.apellido %>">
                
                <% if (locals.errors && errors.apellido) { %>
                    <div class="text-danger">
                        <%= errors.apellido.msg %> 
                    </div>
                <% } %>
                
                <input 
                type="text" 
                name="documento" 
                placeholder="Documento" 
                value="<%= usuario.documento %>">
                
                    <% if (locals.errors && errors.documento) { %>
                        <div class="text-danger">
                            <%= errors.documento.msg %> 
                        </div>
                    <% } %>
                
                <input 
                type="date" 
                name="fechaNacimiento" 
                value="<%= usuario.fechaNacimiento %>">
                
                    <% if (locals.errors && errors.fechaNacimiento) { %>
                        <div class="text-danger">
                            <%= errors.fechaNacimiento.msg %> 
                        </div>
                    <% } %>
                
                <input 
                type="text" 
                name="telefono" 
                placeholder="Telefono" 
                value="<%= usuario.telefono %>">
                
                    <% if (locals.errors && errors.telefono) { %>
                        <div class="text-danger">
                            <%= errors.telefono.msg %> 
                        </div>
                    <% } %>
                
                <input 
                type="text" 
                name="email" 
                placeholder="Email" 
                value="<%= usuario.email %>">
                
                    <% if (locals.errors && errors.email) { %>
                        <div class="text-danger">
                            <%= errors.email.msg %> 
                        </div>
                    <% } %>
                
                    <select name="roles_id">
                        <% roles.forEach(rol => { %>
    
                            <% if (rol.id === usuario.roles_id) { %>
                                <option value="<%= rol.id %>" selected><%= rol.nombre %></option>
                            <% } else { %>    
                                <option value="<%= rol.id %> "><%= rol.nombre %> </option>
                            <% } %>
    
                         
                        <% }) %>
                        
                    </select>
                
                    
                
                <input 
                type="file" 
                name="img"
                >
                <p>*Este campo no es obligatorio</p> 
                <!--
                <% if (locals.errors && errors.img) { %>
                    <div class="text-danger">
                        <%= errors.img.msg %> 
                    </div>
                <% } %>
                   
                -->
                <input 
                type="password" 
                name="password" 
                placeholder="Paswword"
                value="<%= usuario.password %>">
                
                
                <% if (locals.errors && errors.password) { %>
                    <div class="text-danger">
                        <%= errors.password.msg %> 
                    </div>
                <% } %>

                    
                    <select name="activo" >
                        <option value="1" <%= usuario.activo === 1 ? "selected" : "" %> >activo</option>
                        <option value="0" <%= usuario.activo === 0 ? "selected" : "" %> >inactivo</option> 
                    </select>    
                     
                
                <br>
     
                <button class="button-register" type="submit">MODIFICAR USUARIO</button>
            </form>
        </section>    

        
    </main>

    <!--footer-->
    <%- include ("./partials/footer")  %>

</body>
</html>